# מערכת ניהול פלוגה - ZIKIT

מערכת ניהול כוח אדם ומשימות לפלוגה לוחמת, מותאמת לשימוש בסלולר עם תצוגות חמ"ל בזמן אמת.

## 🎯 מטרת המערכת

מערכת אינטרנטית לניהול כולל של כוח האדם בפלוגה לוחמת, המשלבת:
- מעקב אחר חיילים, נהגים, משימות, רכבים ותורנויות
- ניהול שוטף, תיעוד, תחקור, שליטה ותצוגת מצב בזמן אמת
- התאמה מלאה לשימוש בסלולר
- תצוגות ייעודיות לטלוויזיות חמ"ל

## 🏗️ ארכיטקטורה

### Frontend
- **React 18** עם TypeScript
- **Material-UI v7** - עיצוב מודרני ורספונסיבי
- **React Router DOM** - ניווט בין מסכים
- **React Firebase Hooks** - חיבור בזמן אמת ל-Firebase

### Backend
- **Firebase Firestore** - מסד נתונים בזמן אמת
- **Firebase Authentication** - אימות משתמשים
- **Firebase Cloud Functions** - לוגיקה עסקית
- **Firebase Hosting** - פריסה

### אינטגרציות
- **Google Forms** - קליטת נתוני חיילים אוטומטית
- **Google Apps Script** - עיבוד טפסים

## 📱 מסכים עיקריים

### 1. מסך התחברות
- התחברות עם Google
- הקצאת הרשאות אוטומטית למנהלים
- ריענון אוטומטי של נתונים

### 2. התיק האישי
- תצוגת פרטים אישיים לכל חייל
- קישור לנתונים מטופס Google Forms
- הרשאות צפייה מבוססות היררכיה

### 3. ניהול משתמשים
- הקצאת תפקידים לפי היררכיה צבאית
- ניהול צוותים ומפקדים
- קישור פרופילי חיילים לחשבונות משתמשים

### 4. ניהול תורנויות
- יצירת תורנויות עם שיבוץ אוטומטי
- תורנויות חוזרות (יומיות/שבועיות/חודשיות)
- מעקב סטטוס והשלמה
- ייצוא לאקסל

### 5. מסך חמ"ל
- תצוגה בזמן אמת של כל הפעילות
- סטטוס רכבים, כוח אדם, משימות
- התראות אוטומטיות על בעיות
- מותאם למסכים גדולים

### 6. ניהול צוותים
- יצירת צוותים ומבנה ארגוני
- שיבוץ חיילים לצוותים
- מעקב ביצועים צוותיים

## 🏛️ היררכיה צבאית

```
מ"פ (Company Commander)
├── סמ"פ (Deputy Company Commander)
│   ├── רספ (RASP)
│   ├── סרספ (SARASP)
│   ├── קצין ניהול (KATZIN_NIHUL)
│   ├── מניפ (MANIP)
│   ├── חופל (HOFPAL)
│   └── פפ (PAP)
├── מפקד פלגה 1 (MEFAKED_PELAGA)
│   ├── מפקד צוות 10 (MEFAKED_TZEVET)
│   │   ├── סמל (SAMAL)
│   │   ├── מפקד חייל 1 (MEFAKED_CHAYAL)
│   │   └── חיילים (CHAYAL)
│   ├── מפקד צוות 20
│   └── מפקד צוות 30
└── מפקד פלגה 2
    ├── מפקד צוות 40
    ├── מפקד צוות 50
    └── מפקד צוות 60
```

## 🔐 הרשאות משתמשים

| תפקיד | הרשאות |
|-------|---------|
| מ"פ | גישה מלאה לכל המערכת |
| סמ"פ | ניהול משתמשים, צפייה בכל הנתונים |
| מפקד פלגה | ניהול צוותים, צפייה בחיילי הפלגה |
| מפקד צוות | ניהול חיילי הצוות, צפייה מוגבלת |
| חמ"ל | תצוגות בזמן אמת בלבד |
| חייל | צפייה בנתונים אישיים ומשימות |

## 🚀 התקנה והפעלה

### דרישות מקדימות
- Node.js 18+
- npm או yarn
- Firebase CLI

### התקנה
```bash
# שכפול הפרויקט
git clone [repository-url]
cd zikit

# התקנת דיפנדנסיות
cd zikit-admin
npm install

cd ../functions
npm install

# הגדרת Firebase
firebase login
firebase init
```

### הפעלה מקומית
```bash
# הפעלת האפליקציה
cd zikit-admin
npm start

# הפעלת Firebase Emulators
firebase emulators:start
```

### פריסה
```bash
# בנייה ופריסה
cd zikit-admin
npm run build

cd ..
firebase deploy
```

## 📊 מודל נתונים

### Collections עיקריות
- `users` - משתמשי המערכת
- `soldiers` - פרופילי חיילים (מ-Google Forms)
- `teams` - צוותים ומבנה ארגוני
- `duties` - תורנויות ושיבוצים
- `missions` - משימות פלוגתיות
- `vehicles` - רכבים וסטטוס
- `drivers` - נהגים ורישיונות

## 🔧 פיתוח

### מבנה הפרויקט
```
zikit/
├── zikit-admin/          # React Frontend
│   ├── src/
│   │   ├── pages/        # מסכי המערכת
│   │   ├── components/   # רכיבים משותפים
│   │   ├── services/     # שירותי API
│   │   ├── contexts/     # ניהול state
│   │   └── models/       # מודלים וטיפוסים
│   └── public/
├── functions/            # Firebase Cloud Functions
│   └── src/
├── firestore.rules       # כללי אבטחה
├── firebase.json         # הגדרות Firebase
└── README.md
```

### כלי פיתוח
- **ESLint** - בדיקת קוד
- **Prettier** - עיצוב קוד
- **TypeScript** - טיפוסים חזקים
- **Firebase Emulators** - פיתוח מקומי

## 📝 Google Forms Integration

### יצירת טופס
1. צור Google Form עם השדות הנדרשים
2. הוסף Google Apps Script לקובץ
3. הגדר trigger לשליחת נתונים ל-Firebase
4. נתונים יופיעו אוטומטית במערכת

### שדות נדרשים
- שם מלא
- מספר אישי
- טלפון
- אימייל
- כתובת
- פרטי חירום

## 🚨 התראות מערכת

המערכת מזהה אוטומטית:
- רכבים עם דלק נמוך
- תורנויות ללא מספיק חיילים
- משימות קריטיות ממתינות לאישור
- תקלות רכב פתוחות

## 📈 תכונות עתידיות

- [ ] מערכת דיווחים PDF/Excel מתקדמת
- [ ] התראות SMS/Email
- [ ] אופטימיזציה לביצועים
- [ ] תכונות נוספות למסכי נהגים ורכבים
- [ ] מערכת ניהול מסמכים מתקדמת

## 🤝 תרומה

1. Fork הפרויקט
2. צור branch חדש (`git checkout -b feature/amazing-feature`)
3. Commit השינויים (`git commit -m 'Add amazing feature'`)
4. Push ל-branch (`git push origin feature/amazing-feature`)
5. פתח Pull Request

## 📄 רישיון

פרויקט זה פותח עבור צה"ל ואינו מיועד לשימוש מסחרי.

## 📞 תמיכה

לשאלות ותמיכה טכנית, פנה למפתח המערכת.

---

**פותח עבור פלוגה לוחמת - מערכת ניהול מתקדמת לניהול כוח אדם ומשימות** 🎖️ 